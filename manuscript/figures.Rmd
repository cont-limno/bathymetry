---
title: "Figures"
output:
  pdf_document:
    fig_caption: yes
    keep_tex: yes
header-includes: 
- \usepackage{colortbl}
- \usepackage{float}
- \usepackage{caption}
---

\arrayrulecolor{white}
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.path = "../figures/", dev = c("pdf"))
knitr::opts_chunk$set(fig.pos = 'H')
```

\pagebreak

![Diagram showing the relations between true (black) and proxy (orange) metrics of lake geometry. Calculated depth from Equation 1 requires a distance and a slope metric.](../figures/slope_diagram_new.pdf){width=75%}

```{r lake_shape, echo=FALSE, out.extra='', fig.align='center', fig.cap="Diagram showing our expectation that slope-based models of lake depth will under predict true depth in convex lakes (left) and over predict true depth in concave lakes (right). Dashed lines represent extrapolated nearshore slope while solid lines represent the lake bottom."}
knitr::include_graphics("../figures/lake_shape.pdf")
```

\captionsetup[figure]{name=Table}
\captionsetup[figure]{labelformat=empty}
```{r 01_predictors, fig.cap = "Table 1: Summary of lake depth predictor variables for modelling efforts (and for lakes continent-wide).", warning=FALSE, echo = FALSE, eval=TRUE, out.extra='', fig.align='center'}
knitr::include_graphics("../tables/01_predictors.pdf")
```
\captionsetup[figure]{name=Figure}
\captionsetup[figure]{labelformat=default}
\setcounter{figure}{2}

```{r 01_geometry_grid, fig.cap = "Comparison among lake shape and reservoir classes for A-B) distance to deepest point versus distance to lake visual center and C-D) nearshore slope versus inlake slope. A dashed 1:1 line is shown for comparison. Cross-section shape and reservoir class plots are not identical because not all lakes had a reservoir classification exceeding a 0.75 probability confidence level.", warning=FALSE, echo = FALSE, eval=TRUE, out.extra='', fig.align='center'}
knitr::include_graphics("../figures/01_geometry_grid-1.pdf")
```

```{r depth_model_metrics, fig.cap = "Model fit and predictive accuracy metrics for all combinations of true (inlake slope, deepest point distance) and proxy (nearshore slope, visual center distance) metrics. Tiles are colored by their $R^2$ values and labeled with their RMSE values.", warning=FALSE, echo = FALSE, eval=TRUE, out.extra='', fig.align='center'}
# see 02_depth_model.Rmd
knitr::include_graphics("../figures/depth_model_metrics-1.pdf")
```

```{r 02_depth_model_importance, fig.cap = "Importance plot for random forest variables showing increase in mean square error. Higher values indicate greater importance to model predictions. See Equation 1 for a definition of geometric max depth.", warning=FALSE, echo = FALSE, eval=TRUE, out.extra=''}
knitr::include_graphics("../figures/02_depth_model_importance-1.pdf")
```

```{r depth_model_grid_resid, fig.cap = "Depth model residuals by cross-section shape and reservoir class.", warning=FALSE, echo = FALSE, eval=TRUE, out.extra=''}
# see 02_depth_model.Rmd
knitr::include_graphics("../figures/02_depth_model_grid_resid-1.pdf")
```
